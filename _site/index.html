<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>applezqp</title>
  <meta name="viewport" content="width=device-width">
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="http://applezqp.com/atom.xml" />
  <meta name="description" content="applezqp" />
  <meta name="keywords" content="applezqp,javascript,css,html,html5,w3c,ios,objective-c" />
  <link rel="stylesheet" href="/static/css/font-awesome.min.css">
  <link rel="stylesheet" href="/static/css/style.min.css">
  <!--[if lt IE 9]>
  <script>
  // JavaScript Document by wondger[at]gmail[dot]com
  //HTML5 Tags Hack in lt IE9
  (function(){
    var e = ('abbr,article,aside,audio,canvas,datalist,details,figure,footer,header,hgroup,mark,menu,meter,nav,output,progress,section,time,video').split(',');
    for(var i=0,l=e.length;i<l;i++){
      document.createElement(e[i]);
    }
  })()
  </script>
  <![endif]-->        
</head>
<body>
  <div class="main typo">
    <div class="content">
      <div class="posts">
  
    <article class="post">
      <header>
        <h2 class="post-title"><a href="/blog/2013-04/Media-Queries.html">Flexible Box Layout Module</a></h2>
        <time class="post-time" datatime="2013-04-21">2013-04-21</time>
        <span class="post-tags">Tagged css</span>
      </header>
      <p>响应式设计中最关键的一部分就是 Media Queries。整理下常用的 Media Queries，后期将持续维护。</p>

<p>首先，先列下最常见的几款设备参数：</p>

<table>
    <thead>
        <tr>
            <th>设备</th>
            <th>分辨率</th>
            <th>像素比 (CSS pixel ratio)</th>
            <th>宽高比 (Aspect ratio)</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>iPhone 3</td>
            <td>480×320</td>
            <td>1</td>
            <td>3:2</td>
        </tr>
        <tr>
            <td>iPhone 4 & 4S</td>
            <td>960×640</td>
            <td>2</td>
            <td>3:2</td>
        </tr>
        <tr>
            <td>iPhone 5</td>
            <td>1136×640</td>
            <td>2</td>
            <td>71:40</td>
        </tr>
        <tr>
            <td>iPad mini</td>
            <td>1024x768</td>
            <td>1</td>
            <td>4:3</td>
        </tr>
        <tr>
            <td>iPad 1 & 2 & 3</td>
            <td>1024×768</td>
            <td>1</td>
            <td>4:3</td>
        </tr>
        <tr>
            <td>iPad 4</td>
            <td>2048×1536</td>
            <td>2</td>
            <td>4:3</td>
        </tr>
        <tr>
            <td>Samsung Galaxy S I & II</td>
            <td>800x480</td>
            <td>1.5</td>
            <td>3.5</td>
        </tr>
        <tr>
            <td>Samsung Galaxy S III</td>
            <td>1280x720</td>
            <td>2</td>
            <td>16:9</td>
        </tr>
    </tobdy>
</table>


<p>详细信息可以访问<a href="http://en.wikipedia.org/wiki/List_of_displays_by_pixel_density">维基百科</a>，维基百科上 iPad 3 和 iPad 4 参数相同，个人感觉有误。</p>

<p>此外，Android 设备过多，本人也了解较少，以下按 dpi 为维度进行区分：</p>

<table>
    <thead>
        <tr>
            <th>DPI</th>
            <th>分辨率</th>
            <th>像素比 (CSS pixel ratio)</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>xhdpi</td>
            <td>960x640</td>
            <td>2</td>
        </tr>
        <tr>
            <td>hdpi</td>
            <td>800x480</td>
            <td>1.5</td>
        </tr>
        <tr>
            <td>mdpi</td>
            <td>480x320</td>
            <td>1</td>
        </tr>
        <tr>
            <td>ldpi</td>
            <td>320x240</td>
            <td>0.75</td>
        </tr>
    </tbody>
</table>


<p>大概的占比可参考<a href="http://isux.tencent.com/%E7%A7%BB%E5%8A%A8%E7%BB%88%E7%AB%AF%E5%BC%80%E5%8F%91%E5%BF%85%E5%A4%87%E7%9F%A5%E8%AF%86.html">移动终端开发必备知识</a></p>

<p>回归正题，根据上面的参数可以设置断点，列出常用的 Media Queries：</p>

<pre><code>/* Smartphones */
@media only screen
and (min-width : 320px)
and (max-width : 480px) {

}

/* device pixel ratio 可以根据不同的像素比加载不同质量的图片 */
@media only screen and (-webkit-min-device-pixel-ratio: 2), 
only screen and (min-device-pixel-ratio: 2) {

}

@media only screen and (-webkit-min-device-pixel-ratio: 1.5),
only screen and (min-device-pixel-ratio: 1.5) {

}

@media only screen and (-webkit-min-device-pixel-ratio : 1),
only screen and (min-device-pixel-ratio: 1) {

}


/* iPads */
@media only screen and (device-width: 768px){

}
/* iPads (landscape) */
@media only screen
and (device-width: 768px)
and (orientation: landscape) {

}
/* iPads (portrait) */
@media only screen
and (device-width: 768px)
and (orientation: portrait) {

}

/* iPhone 4 */
@media only screen 
and (device-width: 320px) 
and (-webkit-device-pixel-ratio: 2){

}

/* iPhone 4 (Landscape) */
@media only screen 
and (device-width: 320px) 
and (-webkit-device-pixel-ratio: 2)
and (orientation : Landscape) {

}

/* iPhone 4 (Portrait) */
@media only screen 
and (device-width: 320px) 
and (-webkit-device-pixel-ratio: 2)
and (orientation : portrait) {

}

/* iPhone 5 */
@media only screen and (device-aspect-ratio: 40/71) {

}
</code></pre>

<p>iPad 和 iPhone 发生翻转的时候，设备的宽度不会发生变化，因此不能通过 <code>device-width</code> 判断设备的方向，而是通过 <code>orientation</code> 判断的。</p>

<p>当然以上不是最全的，可以根据各自的需求组合出各种写法，欢迎继续补充(<em>^__^</em>)</p>

<h2>参考阅读</h2>

<ul>
<li><p>依然是MDN：<a href="https://developer.mozilla.org/en-US/docs/CSS/Media_queries">CSS media queries</a></p></li>
<li><p>严重推荐，利于理解各种基本概念：<a href="http://www.quirksmode.org/mobile/viewports.html">A tale of two viewports — part one</a> &amp; <a href="http://www.quirksmode.org/mobile/viewports2.html">A tale of two viewports — part two</a></p></li>
</ul>


    </article>
  
    <article class="post">
      <header>
        <h2 class="post-title"><a href="/blog/2013-04/Flexible-Box-Layout-Module.html">Media Queries</a></h2>
        <time class="post-time" datatime="2013-04-20">2013-04-20</time>
        <span class="post-tags">Tagged css</span>
      </header>
      <h2>困惑</h2>

<p>刚开始使用 Flexbox 布局，或许会有不少困惑。Google 一下，会发现即有 <code>display: box;</code> 也有 <code>display: flex;</code>，属性也是有 <code>box-{*}</code> 和 <code>flex-{*}</code> 两套。</p>

<p>到底是 <code>box</code> 还是 <code>flex</code> 呢？终其原因，Flexbox 还未正式发布，从 2009 年到目前已经经历了多个版本，其中命名发生了较大的变化。</p>

<p>引用 <a href="http://weblog.bocoup.com/dive-into-flexbox/">Dive into Flexbox</a> ：</p>

<blockquote><p>Flexbox Specification Timeline:</p>

<ul>
<li>July 2009 Working Draft (display: box;)</li>
<li>March 2011 Working Draft (display: flexbox;)</li>
<li>November 2011 Working Draft (display: flexbox;)</li>
<li>March 2012 Working Draft (display: flexbox;)</li>
<li>June 2012 Working Draft (display: flex;)</li>
<li>September 2012 Candidate Recommendation (display: flex;)</li>
</ul>
</blockquote>

<p>虽然最新一版已经到达 CR 版本，但很多浏览器并不支持，目前支持比较广泛的是 2009 年的版本，具体的兼容情况可参考 <a href="http://caniuse.com/flexbox">caniuse</a> 。</p>

<h2>新老对比</h2>

<p>2009年版和2012年版的做个对比：</p>

<table>
    <thead>
        <tr>
            <th>2009版</th>
            <th>2012版</th>
            <th>说明</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>display: box</td>
            <td>display: flex</td>
            <td>flexbox 布局</td>
        </tr>
        <tr>
            <td>box-lines</td>
            <td>flex-wrap</td>
            <td>flex items 是否换行</td>
        </tr>
        <tr>
            <td>box-orient</td>
            <td>flex-direction</td>
            <td>flex items 的排列方向</td>
        </tr>
        <tr>
            <td>box-pack</td>
            <td>justify-content / align-self</td>
            <td>水平方向的剩余空间分配</td>
        </tr>
        <tr>
            <td>box-align</td>
            <td>justify-content / align-self</td>
            <td>竖直方向的剩余空间分配</td>
        </tr>
        <tr>
            <td>box-direction</td>
            <td>order</td>
            <td>flex items 的排列序列</td>
        </tr>
        <tr>
            <td>box-flex</td>
            <td>flex</td>
            <td>flex item 的大小</td>
        </tr>
    </tbody>
</table>


<p>说明：
box-pack 和 box-align 都对应 justify-content / align-self。因为 justify-content / align-self 和水平、竖直没有直接关系，主要和 main axis 、cross axis 有关，而排列的方向不同，main axis 和 cross axis也会发生变化，可以引用个图说明一下：</p>

<p><img src="https://f.cloud.github.com/assets/170783/389616/37b92ee0-a715-11e2-8845-f3bbc57a3dae.png" alt="css-flexbox_axis" /></p>

<p>*图出自<a href="http://dev.opera.com/articles/view/flexbox-basics/">flexbox-basics</a>*</p>

<p>个人认为，新 Flexbox 除了命名的变化，在操作单位更加细化，例如：<code>order</code>, <code>align-self</code>, <code>flex-basis</code>, <code>flex-grow</code>, <code>flex-shrink</code> 定义的对象都是 flex item ，这样能产生更多的变化。</p>

<h2>Demo</h2>

<p><a href="http://handyjs.github.io/lab/flexbox-old.html">Old Flexbox</a></p>

<p><a href="http://handyjs.github.io/lab/flexbox.html">New Flexbox</a> （New Flexbox 支持版本有限，该Demo仅支持Chrome，请在Chrome下运行）</p>

<p>PS：Demo 较简略，可自动动手多多尝试。</p>

<h2>参考阅读</h2>

<ul>
<li>新版 Flexbox ：<a href="https://developer.mozilla.org/en-US/docs/CSS/Tutorials/Using_CSS_flexible_boxes">MDN</a></li>
<li>老版 Flexbox （示例较清晰）：<a href="http://www.zhangxinxu.com/wordpress/2010/12/css-box-flex%E5%B1%9E%E6%80%A7%EF%BC%8C%E7%84%B6%E5%90%8E%E5%BC%B9%E6%80%A7%E7%9B%92%E5%AD%90%E6%A8%A1%E5%9E%8B%E7%AE%80%E4%BB%8B/">CSS box-flex属性，然后弹性盒子模型简介</a></li>
<li>IE自成一套（泪崩）：<a href="http://msdn.microsoft.com/en-us/library/ie/hh772069%28v=vs.85%29.aspx">MSDN</a></li>
</ul>


    </article>
  
</div>




      <footer class="footer">
        <p>© 2013 Applezqp. Powered by <a href="http://jekyllrb.com/">Jekyll</a></p> 
      </footer>
    </div>
    <aside class="sidebar">
      <header class="header">
        <div class="logo">☁</div>
        <h1><a href="/">APPLEZQP</a></h1>
        <a href="/atom.xml" class="icon-rss"></a>
      </header>
      <form action="http://google.com/search" method="get">
        <fieldset role="search" class="search">
          <input type="hidden" name="q" value="site:applezqp.com">
          <input class="search" type="search" name="q" results="0" placeholder="Search">
        </fieldset>
      </form>
      <ul class="nav">
        <li><a href="/archives.html">Archives</a></li>
        <li><a href="/categories.html">Categories</a></li>
        <li><a href="/about.html">About</a></li>
      </ul>
    </aside>
  </div>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-41681210-1', 'applezqp.com');
ga('send', 'pageview');
</script>
</body>
</html>
